using Microsoft.AspNetCore.Mvc;
using System.Linq;

[Route("api/[controller]")]
[ApiController]
public class ResponseController : ControllerBase
{
    [HttpGet]
    public ActionResult<string> Get()
    {
        return "Hello World";
    }

    [HttpPost("generate_response")]
    public ActionResult<object> GenerateResponse([FromBody] string prompt)
    {
        if (string.IsNullOrEmpty(prompt))
        {
            return BadRequest(new { error = "No prompt provided" });
        }

        // Count the number of letters in the prompt
        int numLetters = prompt.Count(char.IsLetter);

        // Construct the response message
        string responseMessage = $"Number of letters = {numLetters}";

        // Return the response
        return new { response = responseMessage };
    }
}
